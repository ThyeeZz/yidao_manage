webpackJsonp([103],{"+Js8":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("BO1k"),i=t.n(l),o={name:"A",data:function(){return{sum:0,pageSize:30,pageNum:1,checkIn:!1,loading:!1,tableData:[],totalPage:1e3,userName:"",ids:"",mobileAreaOpt:[{label:"北京",value:"北京",key:1},{label:"天津",value:"天津",key:2},{label:"上海",value:"上海",key:3},{label:"重庆",value:"重庆",key:4},{label:"河北",value:"河北",key:5},{label:"山西",value:"山西",key:6},{label:"辽宁",value:"辽宁",key:7},{label:"吉林",value:"吉林",key:8},{label:"黑龙江",value:"黑龙江",key:9},{label:"江苏",value:"江苏",key:10},{label:"浙江",value:"浙江",key:11},{label:"安徽",value:"安徽",key:12},{label:"福建",value:"福建",key:13},{label:"江西",value:"江西",key:14},{label:"山东",value:"山东",key:15},{label:"河南",value:"河南",key:16},{label:"湖北",value:"湖北",key:17},{label:"湖南",value:"湖南",key:18},{label:"广东",value:"广东",key:19},{label:"海南",value:"海南",key:20},{label:"四川",value:"四川",key:21},{label:"贵州",value:"贵州",key:22},{label:"云南",value:"云南",key:23},{label:"陕西",value:"陕西",key:24},{label:"甘肃",value:"甘肃",key:25},{label:"青海",value:"青海",key:26},{label:"台湾",value:"台湾",key:27},{label:"内蒙古",value:"内蒙古",key:28},{label:"广西",value:"广西",key:29},{label:"西藏",value:"西藏",key:30},{label:"宁夏",value:"宁夏",key:31},{label:"新疆",value:"新疆",key:32},{label:"香港",value:"香港",key:33},{label:"澳门",value:"澳门",key:34}],cmList:[],cuList:[],ctList:[],modifyData:{visible:!1,id:"",accountID:"",code:"",userName:"",mobileArea:"",isRoute:"",cm:"",cu:"",ct:""},addData:{visible:!1,id:"",accountID:"",code:"",userName:"",mobileArea:"",isRoute:"",cm:"",cu:"",ct:""}}},methods:{handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},index:function(e){return e+1},handleSelectionChange:function(e){this.ids="";var a=!0,t=!1,l=void 0;try{for(var o,r=i()(e);!(a=(o=r.next()).done);a=!0){var n=o.value;this.ids+=n.id+","}}catch(e){t=!0,l=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw l}}this.ids=this.ids.substr(0,this.ids.length-1)},bulkDel:function(){var e=this,a=this;""!==this.ids&&this.$confirm("确认批量删除选中的省网路由？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.postRequest("admin/deleteBatchProvinceRoute",{ids:e.ids}).then(function(e){!0===e.data.success?a.$message.success(e.data.data):a.$message.error(e.data.resultMsg),a.checkData()})}).catch(function(){})},checkData:function(){this.tableData=[],this.checkIn=!0,this.loading=!0;var e=this;this.postRequest("admin/listProvinceRoute",{userName:this.userName}).then(function(a){e.loading=!1,e.sum=a.data.data.page.totalCount;var t=!0,l=!1,o=void 0;try{for(var r,n=i()(a.data.data.data);!(t=(r=n.next()).done);t=!0){var s=r.value;e.tableData.push({id:s.id,userName:s.userName,mobileArea:s.mobileArea,cnIsRouter:s.cnIsRouter,cmGatewayName:s.cmGatewayName,cuGatewayName:s.cuGatewayName,ctGatewayName:s.ctGatewayName,createoper:s.createoper,createtime:s.createtime,modifyoper:s.modifyoper,modifytime:s.modifytime})}}catch(e){l=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(l)throw o}}})},addGateway:function(){var e=this;this.postRequest("admin/getGatewayList",{t:""}).then(function(a){e.cmList=[],e.cuList=[],e.ctList=[];var t=!0,l=!1,o=void 0;try{for(var r,n=i()(a.data.data.cmList);!(t=(r=n.next()).done);t=!0){var s=r.value;1===s.status&&e.cmList.push({value:s.gateway,label:s.gatewayname})}}catch(e){l=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(l)throw o}}var u=!0,c=!1,d=void 0;try{for(var m,v=i()(a.data.data.cuList);!(u=(m=v.next()).done);u=!0){var b=m.value;1===b.status&&e.cuList.push({value:b.gateway,label:b.gatewayname})}}catch(e){c=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw d}}var f=!0,y=!1,p=void 0;try{for(var h,k=i()(a.data.data.ctList);!(f=(h=k.next()).done);f=!0){var D=h.value;1===D.status&&e.ctList.push({value:D.gateway,label:D.gatewayname})}}catch(e){y=!0,p=e}finally{try{!f&&k.return&&k.return()}finally{if(y)throw p}}}),this.addData.visible=!0},submitAdd:function(){var e=this;this.postRequest("admin/saveAddProvinceRoute",this.addData).then(function(a){e.checkData(),e.addData={visible:!1,id:"",accountID:"",code:"",userName:"",mobileArea:"",isRoute:"",cm:"",cu:"",ct:""},!0===a.data.success?(e.$message.success(a.data.data),e.addData.visible=!1):e.$message.error(a.data.resultMsg)})},modify:function(e){var a=this;this.postRequest("admin/editProvinceRoute",{id:e.id}).then(function(e){a.cmList=[],a.cuList=[],a.ctList=[];var t=!0,l=!1,o=void 0;try{for(var r,n=i()(e.data.data.cmList);!(t=(r=n.next()).done);t=!0){var s=r.value;1===s.status&&a.cmList.push({value:s.gateway,label:s.gatewayname})}}catch(e){l=!0,o=e}finally{try{!t&&n.return&&n.return()}finally{if(l)throw o}}var u=!0,c=!1,d=void 0;try{for(var m,v=i()(e.data.data.cuList);!(u=(m=v.next()).done);u=!0){var b=m.value;1===b.status&&a.cuList.push({value:b.gateway,label:b.gatewayname})}}catch(e){c=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw d}}var f=!0,y=!1,p=void 0;try{for(var h,k=i()(e.data.data.ctList);!(f=(h=k.next()).done);f=!0){var D=h.value;1===D.status&&a.ctList.push({value:D.gateway,label:D.gatewayname})}}catch(e){y=!0,p=e}finally{try{!f&&k.return&&k.return()}finally{if(y)throw p}}a.modifyData={visible:!0,id:e.data.data.mobileLocalRoute.id,accountID:e.data.data.mobileLocalRoute.accountID,code:e.data.data.mobileLocalRoute.code,userName:e.data.data.mobileLocalRoute.userName,mobileArea:e.data.data.mobileLocalRoute.mobileArea,isRoute:e.data.data.mobileLocalRoute.isRoute,cm:e.data.data.mobileLocalRoute.cm,cu:e.data.data.mobileLocalRoute.cu,ct:e.data.data.mobileLocalRoute.ct}})},submitModify:function(){var e=this;this.postRequest("admin/saveEditProvinceRoute",this.modifyData).then(function(a){e.modifyData.visible=!1,e.checkData(),e.resAlert(a.data)})},del:function(e){var a=this,t=this;this.$confirm("确认删除【"+e.userName+"】?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.postRequest("admin/deleteProvinceRoute",{id:e.id}).then(function(e){t.resAlert(e.data),t.checkData()})}).catch(function(){})}}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("el-form",{attrs:{inline:"inline","label-width":"120px"},nativeOn:{keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13,a.key,"Enter")?e.checkData(a):null}}},[t("el-form-item",{attrs:{label:"客户账号："}},[t("el-input",{model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"fr",attrs:{type:"primary",plain:""},on:{click:e.checkData}},[e._v("查询")])],1)],1),e._v(" "),e.checkIn?t("el-card",[t("el-button",{attrs:{type:"text"},on:{click:e.addGateway}},[e._v("+添加省网路由")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:e.bulkDel}},[e._v("+批量删除省网路由")]),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:e.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),t("el-table-column",{attrs:{label:"序号",width:"50px",type:"index",index:e.index}}),e._v(" "),t("el-table-column",{attrs:{width:"150px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.modify(a.row)}}},[e._v("修改")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.del(a.row)}}},[e._v("删除")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"客户账号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"mobileArea",label:"省份"}}),e._v(" "),t("el-table-column",{attrs:{prop:"cnIsRouter",label:"是否路由"}}),e._v(" "),t("el-table-column",{attrs:{prop:"cmGatewayName",label:"移动网关"}}),e._v(" "),t("el-table-column",{attrs:{prop:"cuGatewayName",label:"联通网关"}}),e._v(" "),t("el-table-column",{attrs:{prop:"ctGatewayName",label:"电信网关"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createoper",label:"创建人"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"modifyoper",label:"修改人"}}),e._v(" "),t("el-table-column",{attrs:{prop:"modifytime",label:"修改时间"}})],1),e._v(" "),t("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":e.pageNum,"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.sum},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange,"update:currentPage":function(a){e.pageNum=a},"update:pageSize":function(a){e.pageSize=a}}}),e._v(" "),t("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[e._v("共"+e._s(e.sum)+"条，")])],1):e._e(),e._v(" "),t("el-dialog",{attrs:{title:"添加省网路由",visible:e.addData.visible,width:"500px"},on:{"update:visible":function(a){e.$set(e.addData,"visible",a)}}},[t("el-form",{staticStyle:{width:"400px"},attrs:{model:e.addData,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"客户账号："}},[t("el-input",{model:{value:e.addData.userName,callback:function(a){e.$set(e.addData,"userName",a)},expression:"addData.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"省份路由："}},[t("el-select",{attrs:{filterable:""},model:{value:e.addData.mobileArea,callback:function(a){e.$set(e.addData,"mobileArea",a)},expression:"addData.mobileArea"}},e._l(e.mobileAreaOpt,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"是否路由："}},[t("el-radio-group",{model:{value:e.addData.isRoute,callback:function(a){e.$set(e.addData,"isRoute",a)},expression:"addData.isRoute"}},[t("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"移动网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.addData.cm,callback:function(a){e.$set(e.addData,"cm",a)},expression:"addData.cm"}},e._l(e.cmList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"联通网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.addData.cu,callback:function(a){e.$set(e.addData,"cu",a)},expression:"addData.cu"}},e._l(e.cuList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"电信网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.addData.ct,callback:function(a){e.$set(e.addData,"ct",a)},expression:"addData.ct"}},e._l(e.ctList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.addData.visible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.submitAdd}},[e._v("添加")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"省网路由修改",visible:e.modifyData.visible,width:"500px"},on:{"update:visible":function(a){e.$set(e.modifyData,"visible",a)}}},[t("el-form",{staticStyle:{width:"400px"},attrs:{model:e.modifyData,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"客户账号："}},[t("el-input",{attrs:{disabled:""},model:{value:e.modifyData.userName,callback:function(a){e.$set(e.modifyData,"userName",a)},expression:"modifyData.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"省份路由："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.mobileArea,callback:function(a){e.$set(e.modifyData,"mobileArea",a)},expression:"modifyData.mobileArea"}},e._l(e.mobileAreaOpt,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"是否路由："}},[t("el-radio-group",{model:{value:e.modifyData.isRoute,callback:function(a){e.$set(e.modifyData,"isRoute",a)},expression:"modifyData.isRoute"}},[t("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"移动网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.cm,callback:function(a){e.$set(e.modifyData,"cm",a)},expression:"modifyData.cm"}},e._l(e.cmList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"联通网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.cu,callback:function(a){e.$set(e.modifyData,"cu",a)},expression:"modifyData.cu"}},e._l(e.cuList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"电信网关："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.ct,callback:function(a){e.$set(e.modifyData,"ct",a)},expression:"modifyData.ct"}},e._l(e.ctList,function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.modifyData.visible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.submitModify}},[e._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var n=t("VU/8")(o,r,!1,function(e){t("Hqv3")},"data-v-00046ffc",null);a.default=n.exports},Hqv3:function(e,a){}});