webpackJsonp([98],{"5Enu":function(a,t){},r9JK:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("BO1k"),i=e.n(l),o={data:function(){return{modifyDataVisible:!1,modifyDataForm:{id:"",wavName:"",wavPath:"",owner:"",status:"",statusCn:"",options:[{value:"1",label:"可用"},{value:"0",label:"不可用"}]},rules:{wavName:[{required:!0,message:"不能为空",trigger:"blur"}],wavPath:[{required:!0,message:"不能为空",trigger:"blur"}]},id:"",startDate:new Date,endDate:new Date,formLabelWidth:"120px",pageNum:1,pageSize:30,wavId:"",wavName:"",wavPath:"",owner:"",status:"",sum:0,index:0,tableData:[],checkIn:!1,loading:!1,options:[{value:"2",label:"所有"},{value:"1",label:"可用"},{value:"0",label:"不可用"}]}},methods:{modifyData:function(a){this.modifyDataVisible=!0,this.modifyDataForm.id=a.id,this.modifyDataForm.wavName=a.wavName,this.modifyDataForm.wavPath=a.wavPath,this.modifyDataForm.owner=a.owner,this.modifyDataForm.status=0===a.status?"不可用":"可用"},submitForm:function(a){var t=this;this.$refs[a].validate(function(a){if(!a)return!1;t.modifyDataVisible=!1;var e=t;t.postRequest("admin/updateCallWav",{id:e.modifyDataForm.id,wavName:e.modifyDataForm.wavName,wavPath:e.modifyDataForm.wavPath,owner:e.modifyDataForm.owner,status:e.modifyDataForm.status}).then(function(a){a.data.success?(e.succeed(a.data.message),e.checkData()):e.failed(a.data.message)})})},resetForm:function(a){this.modifyDataVisible=!1},deleteDate:function(a){var t=this,e=this;this.$confirm("此操作将删除wav："+a.wavName+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.postRequest("admin/deleteCallWav",{id:a.id}).then(function(a){a.data.success?(t.succeed(a.data.message),t.checkData()):t.failed(a.data.message)})}).catch(function(){})},succeed:function(a){this.$message({message:a,type:"success"})},failed:function(a){this.$message.error(a)},handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},checkData:function(){this.tableData=[],this.checkIn=!0,this.loading=!0;var a=this;this.postRequest("admin/callwavlist",{wavId:this.wavId,wavName:this.wavName,wavPath:this.wavPath,owner:this.owner,status:this.status,pageNum:this.pageNum,pageSize:this.pageSize,createUser:this.createUser,createTime:this.createTime,startDate:this.formatDate(this.startDate),endDate:this.formatDate(this.endDate)}).then(function(t){a.loading=!1,a.sum=t.data.data.page.totalCount;var e=!0,l=!1,o=void 0;try{for(var s,n=i()(t.data.data.data);!(e=(s=n.next()).done);e=!0){var r=s.value;a.tableData.push({index:a.index,wavId:r.wav_id,wavName:r.wav_name,wavPath:r.wav_path,owner:r.owner,status:r.status,statusCn:0===r.status?"不可用":1===r.status?"可用":"所有",createUser:r.create_user,createTime:r.create_time,id:r.id}),a.index++}}catch(a){l=!0,o=a}finally{try{!e&&n.return&&n.return()}finally{if(l)throw o}}})},cancel:function(){}}},s={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("el-form",{attrs:{"label-width":"120px",inline:"inline"},nativeOn:{keyup:function(t){return"button"in t||!a._k(t.keyCode,"enter",13,t.key,"Enter")?a.checkData(t):null}}},[e("el-form-item",{attrs:{label:"wav编号："}},[e("el-input",{model:{value:a.wavId,callback:function(t){a.wavId=t},expression:"wavId"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"wav名称："}},[e("el-input",{model:{value:a.wavName,callback:function(t){a.wavName=t},expression:"wavName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"wav路径："}},[e("el-input",{model:{value:a.wavPath,callback:function(t){a.wavPath=t},expression:"wavPath"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"拥有者："}},[e("el-input",{model:{value:a.owner,callback:function(t){a.owner=t},expression:"owner"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"状态："}},[e("el-select",{model:{value:a.status,callback:function(t){a.status=t},expression:"status"}},a._l(a.options,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"开始时间："}},[e("el-date-picker",{attrs:{type:"date"},model:{value:a.startDate,callback:function(t){a.startDate=t},expression:"startDate"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"结束时间："}},[e("el-date-picker",{attrs:{type:"date"},model:{value:a.endDate,callback:function(t){a.endDate=t},expression:"endDate"}})],1),a._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",plain:""},on:{click:a.checkData}},[a._v("查询")])],1)],1),a._v(" "),e("el-dialog",{attrs:{title:"修改信息",visible:a.modifyDataVisible},on:{"update:visible":function(t){a.modifyDataVisible=t}}},[e("el-form",{ref:"form",attrs:{model:a.modifyDataForm,rules:a.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"wav名称：","label-width":a.formLabelWidth,prop:"wavName"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:a.modifyDataForm.wavName,callback:function(t){a.$set(a.modifyDataForm,"wavName",t)},expression:"modifyDataForm.wavName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"wav路径：","label-width":a.formLabelWidth,prop:"wavPath"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:a.modifyDataForm.wavPath,callback:function(t){a.$set(a.modifyDataForm,"wavPath",t)},expression:"modifyDataForm.wavPath"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"拥有者：","label-width":a.formLabelWidth,prop:"owner"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:a.modifyDataForm.owner,callback:function(t){a.$set(a.modifyDataForm,"owner",t)},expression:"modifyDataForm.owner"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"状态："}},[e("el-select",{model:{value:a.modifyDataForm.status,callback:function(t){a.$set(a.modifyDataForm,"status",t)},expression:"modifyDataForm.status"}},a._l(a.modifyDataForm.options,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(t){a.submitForm("modifyDataForm")}}},[a._v("保存")]),a._v(" "),e("el-button",{on:{click:function(t){a.resetForm("modifyDataForm")}}},[a._v("取消")])],1)],1),a._v(" "),a.checkIn?e("el-card",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:a.tableData,stripe:""}},[e("el-table-column",{attrs:{label:"序号",type:"index"}}),a._v(" "),e("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){a.modifyData(t.row)}}},[a._v("修改信息")]),a._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){a.deleteDate(t.row)}}},[a._v("删除")])]}}])}),a._v(" "),e("el-table-column",{attrs:{width:"150px",prop:"wavId",label:"wav编号"}}),a._v(" "),e("el-table-column",{attrs:{prop:"wavName",label:"wav名称"}}),a._v(" "),e("el-table-column",{attrs:{prop:"wavPath",label:"wav路径"}}),a._v(" "),e("el-table-column",{attrs:{prop:"owner",label:"拥有者"}}),a._v(" "),e("el-table-column",{attrs:{prop:"statusCn",label:"状态"}}),a._v(" "),e("el-table-column",{attrs:{prop:"createUser",label:"创建人"}}),a._v(" "),e("el-table-column",{attrs:{width:"150px",prop:"createTime",label:"创建时间"}})],1),a._v(" "),e("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":a.pageNum,"page-size":[30,50],"page-size":a.pageSize,total:a.sum,layout:"sizes, prev, pager, next, jumper"},on:{"size-change":a.handleSizeChange,"current-change":a.handlePageChange,"update:currentPage":function(t){a.pageNum=t},"update:pageSize":function(t){a.pageSize=t}}}),a._v(" "),e("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[a._v("共"+a._s(a.sum)+"条，")])],1):a._e()],1)},staticRenderFns:[]};var n=e("VU/8")(o,s,!1,function(a){e("5Enu")},"data-v-175c5b3b",null);t.default=n.exports}});