webpackJsonp([75],{VBip:function(e,a){},hqo9:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("BO1k"),o=t.n(l),i=t("bOdI"),r=t.n(i),s={name:"A",data:function(){var e;return{addDataFlag:!1,modifyDataFlag:!1,gwGroupName:"",gatewayId:"",index:0,sum:0,totalPage:0,pageSize:30,pageNum:1,checkIn:!1,loading:!1,tableData:[],operaidList:[{key:1,label:"移动",value:1},{key:2,label:"联通",value:2},{key:3,label:"电信",value:3}],gatewayList:[],isKeyList:[{key:0,label:"否",value:0},{key:1,label:"是",value:1}],modifyData:(e={id:"",gwGroupName:"",userName:"",operaid:"",operaName:"",gwId1:"",score1:"",isKey1:"",gwId2:"",score2:"",isKey2:"",gwId3:""},r()(e,"score2",""),r()(e,"isKey3",""),r()(e,"gwId4",""),r()(e,"score4",""),r()(e,"isKey4",""),r()(e,"gwId5",""),r()(e,"score5",""),r()(e,"isKey5",""),e),addData:{gwGroupName:"",operaid:""},rule1:{gwGroupName:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},handleCommand:function(e){this[e.name]=!0},handleSelectionChange:function(e){this.choosedGateway=e},resetForm:function(e){this.modifyDataFlag=!1,this.addDataFlag=!1,this.addData={}},checkData:function(){this.tableData=[],this.checkIn=!0,this.loading=!0;var e=this;this.postRequest("admin/listPipeGroup",{gwGroupName:this.gwGroupName,gatewayId:this.gatewayId}).then(function(a){e.loading=!1,e.sum=a.data.data.page.totalCount;var t=!0,l=!1,i=void 0;try{for(var r,s=o()(a.data.data.data);!(t=(r=s.next()).done);t=!0){var n=r.value;e.tableData.push({id:n.id,index:e.index,userName:n.userName,gwGroupName:n.gwGroupName,operaName:n.operaName,operaid:n.operaid,gwId1:n.gwId1?n.gwId1:"",score1:n.gwId1?n.score1:"",isKey1Cn:n.isKey1Cn,isKey1:n.isKey1,gwId2:n.gwId2?n.gwId2:"",score2:n.gwId2?n.score2:"",isKey2Cn:n.isKey2Cn,isKey2:n.isKey2,gwId3:n.gwId3?n.gwId3:"",score3:n.gwId3?n.score3:"",isKey3Cn:n.isKey3Cn,isKey3:n.isKey3,gwId4:n.gwId4?n.gwId4:"",score4:n.gwId4?n.score4:"",isKey4Cn:n.isKey4Cn,isKey4:n.isKey4,gwId5:n.gwId5?n.gwId5:"",score5:n.gwId5?n.score5:"",isKey5Cn:n.isKey5Cn,isKey5:n.isKey5}),e.index++}}catch(e){l=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(l)throw i}}})},modify:function(e){this.gatewayList=[],this.modifyDataFlag=!0;var a=this;this.postRequest("admin/editPipeGroup",{gwGroupId:e.id,operaid:e.operaid}).then(function(e){var t=!0,l=!1,i=void 0;try{for(var r,s=o()(e.data.data.pipeList);!(t=(r=s.next()).done);t=!0){var n=r.value;a.gatewayList.push({key:n.gateway,label:n.gatewayname,value:n.gateway})}}catch(e){l=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(l)throw i}}var d=e.data.data.pipeGroup;a.modifyData.gwGroupName=d.gwGroupName,a.modifyData.operaid=d.operaid,a.modifyData.gwId1=d.gwId1?d.gwId1:"",a.modifyData.score1=d.score1?d.score1:"",a.modifyData.isKey1=d.isKey1,a.modifyData.gwId2=d.gwId2?d.gwId2:"",a.modifyData.score2=d.score2?d.score2:"",a.modifyData.isKey2=d.isKey2,a.modifyData.gwId3=d.gwId3?d.gwId3:"",a.modifyData.score2=d.score3?d.score3:"",a.modifyData.isKey3=d.isKey3,a.modifyData.gwId4=d.gwId4?d.gwId4:"",a.modifyData.score4=d.score4?d.score4:"",a.modifyData.isKey4=d.isKey4,a.modifyData.gwId5=d.gwId5?d.gwId5:"",a.modifyData.score5=d.score5?d.score5:"",a.modifyData.isKey5=d.isKey5,a.modifyData.id=d.id,a.modifyData.userName=d.userName,a.modifyData.operaName=d.operaName})},add:function(){this.addDataFlag=!0},submitAdd:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;var t=a;a.postRequest("admin/saveAddPipeGroup",a.addData).then(function(e){console.log(e),t.resAlert(e.data),t.checkData(),a.addDataFlag=!1,t.addData={gwGroupName:"",operaid:""}})})},submitModify:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;var t=a;a.postRequest("admin/saveEditPipeGroup",a.modifyData).then(function(e){t.resAlert(e.data),t.modifyDataFlag=!1,t.checkData()})})},del:function(e){var a=this;console.log(e);var t=this;this.$confirm("确认删除【"+e.gwGroupName+"】?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.postRequest("admin/deletePipeGroup",{gwGroupId:e.id}).then(function(e){t.resAlert(e.data),t.checkData()})}).catch(function(){})}},mounted:function(){this.checkData()}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("el-form",{attrs:{inline:"inline","label-width":"120px"},nativeOn:{keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13,a.key,"Enter")?e.checkData(a):null}}},[t("el-form-item",{attrs:{label:"通道分组名："}},[t("el-input",{model:{value:e.gwGroupName,callback:function(a){e.gwGroupName=a},expression:"gwGroupName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号："}},[t("el-input",{model:{value:e.gatewayId,callback:function(a){e.gatewayId=a},expression:"gatewayId"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"fr",attrs:{type:"primary",plain:""},on:{click:e.checkData}},[e._v("查询")])],1)],1),e._v(" "),e.checkIn?t("el-card",[t("el-button",{attrs:{type:"text"},on:{click:e.add}},[e._v("+添加通道分组")]),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{label:"序号",width:"50px",type:"index",index:e.index}}),e._v(" "),t("el-table-column",{attrs:{width:"150px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.modify(a.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.del(a.row)}}},[e._v("删除")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwGroupName",label:"通道分组名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"operaName",label:"所属运营商"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwId1",label:"通道编号1"}}),e._v(" "),t("el-table-column",{attrs:{prop:"score1",label:"通道得分1"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isKey1Cn",label:"是否启用1"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwId2",label:"通道编号2"}}),e._v(" "),t("el-table-column",{attrs:{prop:"score2",label:"通道得分2"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isKey2Cn",label:"是否启用2"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwId3",label:"通道编号3"}}),e._v(" "),t("el-table-column",{attrs:{prop:"score3",label:"通道得分3"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isKey3Cn",label:"是否启用3"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwId4",label:"通道编号4"}}),e._v(" "),t("el-table-column",{attrs:{prop:"score4",label:"通道得分4"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isKey4Cn",label:"是否启用4"}}),e._v(" "),t("el-table-column",{attrs:{prop:"gwId5",label:"通道编号5"}}),e._v(" "),t("el-table-column",{attrs:{prop:"score5",label:"通道得分5"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isKey5Cn",label:"是否启用5"}})],1),e._v(" "),t("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":e.pageNum,"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.sum},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange,"update:currentPage":function(a){e.pageNum=a},"update:pageSize":function(a){e.pageSize=a}}}),e._v(" "),t("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[e._v("共"+e._s(e.sum)+"条，")])],1):e._e(),e._v(" "),t("el-dialog",{attrs:{title:"添加通道分组",visible:e.addDataFlag,width:"500px"},on:{"update:visible":function(a){e.addDataFlag=a}}},[t("el-form",{ref:"addData",staticStyle:{width:"400px"},attrs:{model:e.addData,"label-width":"120px",rules:e.rule1}},[t("el-form-item",{attrs:{label:"通道分组名：",prop:"gwGroupName"}},[t("el-input",{model:{value:e.addData.gwGroupName,callback:function(a){e.$set(e.addData,"gwGroupName",a)},expression:"addData.gwGroupName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所属运营商："}},[t("el-select",{attrs:{filterable:""},model:{value:e.addData.operaid,callback:function(a){e.$set(e.addData,"operaid",a)},expression:"addData.operaid"}},e._l(e.operaidList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.resetForm("addData")}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitAdd("addData")}}},[e._v("保存")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加通道分组",visible:e.modifyDataFlag,width:"500px"},on:{"update:visible":function(a){e.modifyDataFlag=a}}},[t("el-form",{ref:"modifyData",staticStyle:{width:"400px"},attrs:{model:e.modifyData,"label-width":"120px",rules:e.rule1}},[t("el-form-item",{attrs:{label:"通道分组名：",prop:"gwGroupName"}},[t("el-input",{model:{value:e.modifyData.gwGroupName,callback:function(a){e.$set(e.modifyData,"gwGroupName",a)},expression:"modifyData.gwGroupName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名："}},[t("el-input",{model:{value:e.modifyData.userName,callback:function(a){e.$set(e.modifyData,"userName",a)},expression:"modifyData.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所属运营商："}},[t("el-input",{model:{value:e.modifyData.operaName,callback:function(a){e.$set(e.modifyData,"operaName",a)},expression:"modifyData.operaName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号1："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.gwId1,callback:function(a){e.$set(e.modifyData,"gwId1",a)},expression:"modifyData.gwId1"}},e._l(e.gatewayList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道得分1："}},[t("el-input",{attrs:{placeholder:"[0,100]"},model:{value:e.modifyData.score1,callback:function(a){e.$set(e.modifyData,"score1",a)},expression:"modifyData.score1"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用1："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.isKey1,callback:function(a){e.$set(e.modifyData,"isKey1",a)},expression:"modifyData.isKey1"}},e._l(e.isKeyList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号2："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.gwId2,callback:function(a){e.$set(e.modifyData,"gwId2",a)},expression:"modifyData.gwId2"}},e._l(e.gatewayList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道得分2："}},[t("el-input",{attrs:{placeholder:"[0,100]"},model:{value:e.modifyData.score2,callback:function(a){e.$set(e.modifyData,"score2",a)},expression:"modifyData.score2"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用2："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.isKey2,callback:function(a){e.$set(e.modifyData,"isKey2",a)},expression:"modifyData.isKey2"}},e._l(e.isKeyList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号3："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.gwId3,callback:function(a){e.$set(e.modifyData,"gwId3",a)},expression:"modifyData.gwId3"}},e._l(e.gatewayList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道得分3："}},[t("el-input",{attrs:{placeholder:"[0,100]"},model:{value:e.modifyData.score2,callback:function(a){e.$set(e.modifyData,"score2",a)},expression:"modifyData.score2"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用3："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.isKey3,callback:function(a){e.$set(e.modifyData,"isKey3",a)},expression:"modifyData.isKey3"}},e._l(e.isKeyList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号4："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.gwId4,callback:function(a){e.$set(e.modifyData,"gwId4",a)},expression:"modifyData.gwId4"}},e._l(e.gatewayList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道得分4："}},[t("el-input",{attrs:{placeholder:"[0,100]"},model:{value:e.modifyData.score4,callback:function(a){e.$set(e.modifyData,"score4",a)},expression:"modifyData.score4"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用4："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.isKey4,callback:function(a){e.$set(e.modifyData,"isKey4",a)},expression:"modifyData.isKey4"}},e._l(e.isKeyList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道编号5："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.gwId5,callback:function(a){e.$set(e.modifyData,"gwId5",a)},expression:"modifyData.gwId5"}},e._l(e.gatewayList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"通道得分5："}},[t("el-input",{attrs:{placeholder:"[0,100]"},model:{value:e.modifyData.score5,callback:function(a){e.$set(e.modifyData,"score5",a)},expression:"modifyData.score5"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用5："}},[t("el-select",{attrs:{filterable:""},model:{value:e.modifyData.isKey5,callback:function(a){e.$set(e.modifyData,"isKey5",a)},expression:"modifyData.isKey5"}},e._l(e.isKeyList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.resetForm("modifyData")}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitModify("modifyData")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var d=t("VU/8")(s,n,!1,function(e){t("VBip")},"data-v-2deefca4",null);a.default=d.exports}});