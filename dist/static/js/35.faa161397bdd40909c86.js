webpackJsonp([35],{RV7U:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),n=a.n(l),r={data:function(){return{updateRemarkForm:{userName:"",remark:""},updateRemarkFlage:!1,userName:"",opttype:"",fmmddhms:"",tmmddhms:"",options:[{key:0,label:"所有",value:""},{key:1,label:"赠送",value:1},{key:2,label:"补款",value:2},{key:3,label:"扣款",value:3}],index:0,pageNum:1,pageSize:30,sum:0,tableData:[],checkIn:!1,loading:!1}},methods:{handleSizeChange:function(){this.checkData()},handlePageChange:function(){this.checkData()},opttypeFunc:function(e){switch(e){case 0:return"所有";case 1:return"赠送";case 2:return"补款";case 3:return"扣款"}},checkData:function(){var e=this;this.tableData=[],this.checkIn=!0,this.loading=!0;var t=this;this.postRequest("/admin/listCallBalanceOpt",{userName:this.userName,opttype:this.opttype,fmmddhms:this.formatDate(this.fmmddhms),tmmddhms:this.formatDate(this.tmmddhms),pageSize:this.pageSize,pageNum:this.pageNum}).then(function(a){console.log(a),t.loading=!1,t.sum=a.data.data.page.totalCount;var l=!0,r=!1,o=void 0;try{for(var i,s=n()(a.data.data.data);!(l=(i=s.next()).done);l=!0){var p=i.value;t.tableData.push({index:t.index,afterbalance:p.afterbalance.toFixed(1),beforebalance:p.beforebalance.toFixed(1),optAmount:(p.afterbalance-p.beforebalance).toFixed(1),callcustomerid:p.callcustomerid,oper:p.oper,opertime:p.opertime,opttype:p.opttype,opttypeCn:e.opttypeFunc(p.opttype),remark:p.remark,userName:p.userName,id:p.id}),t.index++}}catch(e){r=!0,o=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw o}}})}},mounted:function(){this.checkData()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{attrs:{"label-width":"120px",inline:"inline"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.checkData(t):null}}},[a("el-form-item",{attrs:{label:"账号："}},[a("el-input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作类型："}},[a("el-select",{model:{value:e.opttype,callback:function(t){e.opttype=t},expression:"opttype"}},e._l(e.options,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.fmmddhms,callback:function(t){e.fmmddhms=t},expression:"fmmddhms"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.tmmddhms,callback:function(t){e.tmmddhms=t},expression:"tmmddhms"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.checkData}},[e._v("查询")])],1)],1),e._v(" "),e.checkIn?a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{border:"",data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"opttypeCn",label:"操作类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"optAmount",label:"操作金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"beforebalance",label:"操作前余额(通)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"afterbalance",label:"操作后余额(通)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"opertime",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oper",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),e._v(" "),a("el-pagination",{staticClass:"fr",staticStyle:{margin:"10px 0"},attrs:{"current-page":e.pageNum,"page-size":[30,50],"page-size":e.pageSize,total:e.sum,layout:"sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange,"update:currentPage":function(t){e.pageNum=t},"update:pageSize":function(t){e.pageSize=t}}}),e._v(" "),a("span",{staticClass:"fr",staticStyle:{"padding-top":"15px","font-size":"14px"}},[e._v("共"+e._s(e.sum)+"条，")])],1):e._e()],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(e){a("ZjAL")},"data-v-71e9fe3c",null);t.default=i.exports},ZjAL:function(e,t){}});